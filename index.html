<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Complete Daily MIS Report - Mining & Crushing</title>
  <style>
    :root {
      --w: 1550px;
      --orange: #e67e22;
      --blue: #2980b9;
      --green: #27ae60;
      --red: #c0392b;
    }
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 20px;
      color: #2c3e50;
    }
    .container { max-width: var(--w); margin: 0 auto; }
    h1 { text-align:center; color:#2c3e50; margin-bottom:5px; }
    .date { text-align:center; font-weight:bold; color:#7f8c8d; margin-bottom:20px; font-size:18px; }

    .controls {
      background:#fff; padding:20px; border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,0.1);
      margin-bottom:25px;
    }
    .input-grid {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap:12px;
    }
    .input-row {
      display:flex; align-items:center; gap:10px;
    }
    .input-row label {
      width:220px; font-weight:600; color:#34495e;
    }
    .input-row input {
      padding:8px 10px; border:1px solid #ccc; border-radius:4px; width:110px;
    }
    button {
      background:var(--orange); color:white; border:none; padding:14px 30px;
      font-size:16px; font-weight:bold; border-radius:8px; cursor:pointer; margin-top:20px;
    }
    button:hover { background:#d35400; }

    .report {
      background:#fff; padding:25px; border:3px solid #000; border-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,0.2);
    }
    table {
      width:100%; border-collapse:collapse; margin:15px 0; font-size:14.5px;
    }
    th, td {
      border:1px solid #333; padding:9px 8px; text-align:center;
    }
    th {
      background:#2c3e50; color:white; font-weight:bold;
    }
    td.left { text-align:left; padding-left:15px; font-weight:500; }
    .subhead { background:#34495e !important; color:white; }
    .total { background:#f39c12; color:white; font-weight:bold; font-size:15px; }
    .highlight { background:#e8f5e8; font-weight:bold; }
    h2 {
      background:var(--orange); color:white; padding:12px; margin:25px 0 10px 0;
      text-align:center; border-radius:8px; font-size:19px;
    }
    .remark {
      background:#fef9e7; padding:12px; border-left:5px solid #f39c12;
      font-style:italic; margin:15px 0; border-radius:0 6px 6px 0;
    }
    @media (max-width: 1600px) {
      :root { --w: 98vw; }
      .input-grid { grid-template-columns: 1fr; }
    }
    .truck-table td { font-size:13.5px; }
  </style>
</head>
<body>

<div class="container">
  <h1>DAILY MIS REPORT - MINING & CRUSHING PLANT</h1>
  <div class="date">Report Date: <span id="today"></span></div>

  <!-- INPUT CONTROLS -->
  <div class="controls">
    <h3>Enter Today's (FTD) Data</h3>
    <div class="input-grid">
      <!-- Mine -->
      <div class="input-row"><label>Mine Production (tons)</label><input type="number" id="mine_prod" value="2612"></div>
      <div class="input-row"><label>No. of Holes</label><input type="number" id="holes" value="600"></div>
      <div class="input-row"><label>Total Feetage</label><input type="number" id="feetage" value="3266"></div>
      <div class="input-row"><label>Running Hrs</label><input type="number" step="0.1" id="run_hrs" value="10.2"></div>
      <div class="input-row"><label>Power Cut Hrs</label><input type="number" step="0.1" id="power_hrs" value="3.8"></div>

      <!-- Plant -->
      <div class="input-row"><label>Plant Production (tons)</label><input type="number" id="plant_prod" value="1865"></div>
      <div class="input-row"><label>TPH Average</label><input type="number" id="tph" value="183"></div>
      <div class="input-row"><label>% Recovery</label><input type="number" id="recovery" value="83"></div>
      <div class="input-row"><label>Boulder Jam Hrs</label><input type="number" step="0.1" id="jam_hrs" value="0.5"></div>

      <!-- Trips Day -->
      <div class="input-row"><label>Trips - Day Shift</label><input type="number" id="trips_day" value="39"></div>
      <div class="input-row"><label>Trips - Night Shift</label><input type="number" id="trips_night" value="54"></div>
    </div>

    <h3 style="margin-top:25px;">Production by Size (FTD Tons)</h3>
    <div class="input-grid">
      <div class="input-row"><label>10 MM</label><input type="number" step="0.1" id="p_10mm" value="381.6"></div>
      <div class="input-row"><label>20 MM</label><input type="number" step="0.1" id="p_20mm" value="593.6"></div>
      <div class="input-row"><label>V-Sand</label><input type="number" step="0.1" id="p_vsand" value="296.8"></div>
      <div class="input-row"><label>Rivo Sand</label><input type="number" step="0.1" id="p_rivosand" value="763.2"></div>
      <div class="input-row"><label>Railway Ballast</label><input type="number" step="0.1" id="p_ballast" value="0"></div>
      <div class="input-row"><label>40 MM</label><input type="number" step="0.1" id="p_40mm" value="0"></div>
      <div class="input-row"><label>Slurry</label><input type="number" step="0.1" id="p_slurry" value="84.8"></div>
    </div>

    <center><button onclick="generateReport()">GENERATE FULL MIS REPORT</button></center>
  </div>

  <!-- FULL REPORT -->
  <div class="report">

    <!-- MINE & PLANT -->
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px;">
      <div>
        <h2>MINE OPERATION</h2>
        <table>
          <tr class="subhead"><th>Parameter</th><th>FTD</th><th>MTD</th></tr>
          <tr><td class="left">Production (tons)</td><td id="r_mine">2,612</td><td>50,453</td></tr>
          <tr><td class="left">No. of Holes</td><td id="r_holes">600</td><td>11,702</td></tr>
          <tr><td class="left">Total Feetage</td><td id="r_feetage">3,266</td><td>63,066</td></tr>
          <tr><td class="left">Running Hrs</td><td id="r_run_hrs">10.2</td><td>169.9</td></tr>
          <tr><td class="left">Power Cut Hrs</td><td id="r_power_hrs">3.8</td><td>95.6</td></tr>
        </table>
      </div>

      <div>
        <h2>PLANT OPERATION</h2>
        <table>
          <tr class="subhead"><th>Parameter</th><th>FTD</th><th>MTD</th></tr>
          <tr><td class="left">Production (tons)</td><td id="r_plant">1,865</td><td>31,987</td></tr>
          <tr><td class="left">TPH (Avg)</td><td id="r_tph">183</td><td>188</td></tr>
          <tr><td class="left">% Recovery</td><td id="r_rec">83%</td><td>83%</td></tr>
          <tr><td class="left">Boulder Jam Hrs</td><td id="r_jam">0.5</td><td>20.9</td></tr>
        </table>
      </div>
    </div>

    <h2>BOULDER TRANSPORTATION</h2>
    <table>
      <tr class="subhead"><th>Shift</th><th>Day</th><th>Night</th><th>FTD</th><th>MTD</th></tr>
      <tr>
        <td class="left"><strong>Trips</strong></td>
        <td id="t_day">39</td>
        <td id="t_night">54</td>
        <td id="t_total">93</td>
        <td>1,368</td>
      </tr>
      <tr class="total">
        <td class="left"><strong>Tonnage</strong></td>
        <td id="ton_day">936</td>
        <td id="ton_night">1,417</td>
        <td id="ton_ftd">2,353</td>
        <td>32,757</td>
      </tr>
    </table>

    <h2>PRODUCTION BY PRODUCT SIZE</h2>
    <table>
      <tr class="subhead"><th>Product</th><th>FTD (tons)</th><th>MTD (tons)</th></tr>
      <tr><td class="left">10 MM</td><td id="p10">381.6</td><td>3,722.4</td></tr>
      <tr><td class="left">20 MM</td><td id="p20">593.6</td><td>5,790.4</td></tr>
      <tr><td class="left">V-Sand</td><td id="pvs">296.8</td><td>2,895.2</td></tr>
      <tr><td class="left">Rivo Sand</td><td id="priv">763.2</td><td>7,444.8</td></tr>
      <tr><td class="left">Railway Ballast</td><td id="pbal">0</td><td>57</td></tr>
      <tr><td class="left">40 MM</td><td id="p40">0</td><td>0</td></tr>
      <tr><td class="left">Slurry</td><td id="psl">84.8</td><td>827.2</td></tr>
      <tr class="total"><td class="left">TOTAL PRODUCTION</td><td id="prod_total">2,120</td><td>20,680</td></tr>
    </table>

    <h2>TRUCK-WISE DISPATCH (Today)</h2>
    <table class="truck-table">
      <tr class="subhead"><th>Vehicle No.</th><th>Day Trips</th><th>Night Trips</th><th>Total Trips</th><th>MTD Trips</th></tr>
      <tr><td class="left">AP39UQ0095</td><td>0</td><td>0</td><td>0</td><td>57</td></tr>
      <tr><td class="left">AP39UQ0097</td><td>5</td><td>5</td><td>10</td><td>95</td></tr>
      <tr><td class="left">AP39UW9880</td><td>6</td><td>6</td><td>12</td><td>152</td></tr>
      <tr><td class="left">AP39UW9881</td><td>5</td><td>4</td><td>9</td><td>135</td></tr>
      <tr><td class="left">AP39UY4651</td><td>1</td><td>5</td><td>6</td><td>127</td></tr>
      <tr><td class="left">AP39UY4652</td><td>5</td><td>6</td><td>11</td><td>144</td></tr>
      <tr><td class="left">AP39WC0926</td><td>0</td><td>5</td><td>5</td><td>136</td></tr>
      <tr><td class="left">AP39WC0927</td><td>5</td><td>4</td><td>9</td><td>101</td></tr>
      <tr><td class="left">AP39WC0928</td><td>6</td><td>6</td><td>12</td><td>154</td></tr>
      <tr><td class="left">AP39WF2052</td><td>3</td><td>7</td><td>10</td><td>118</td></tr>
      <tr><td class="left">AP39WF2057</td><td>3</td><td>6</td><td>9</td><td>149</td></tr>
      <tr><td class="left">AP39WF2058</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
      <tr class="total"><td class="left"><strong>TOTAL</strong></td><td>39</td><td>54</td><td>93</td><td>1,368</td></tr>
    </table>

    <h2>GODOWN STOCK (as on today)</h2>
    <table>
      <tr class="subhead"><th>Product</th><th>Stock (tons)</th></tr>
      <tr><td class="left">10 MM</td><td>130</td></tr>
      <tr><td class="left">20 MM</td><td>4,250</td></tr>
      <tr><td class="left">Rivo Sand</td><td>18,420</td></tr>
      <tr><td class="left">Railway Ballast</td><td>2,000</td></tr>
      <tr><td class="left">40 MM</td><td>0</td></tr>
      <tr><td class="left">VSI Sand</td><td>17,235</td></tr>
      <tr><td class="left">GSB</td><td>0</td></tr>
      <tr class="total"><td class="left">TOTAL STOCK</td><td>42,035 tons</td></tr>
    </table>

    <div class="remark">
      <strong>Remarks:</strong> Staggered blasting pattern continued. Plant achieved 83% recovery despite minor boulder jamming. 
      All trucks operational except AP39WF2058 (under maintenance).
    </div>
  </div>
</div>

<script>
function generateReport() {
  // Basic values
  const mine = parseFloat(document.getElementById('mine_prod').value) || 0;
  const plant = parseFloat(document.getElementById('plant_prod').value) || 0;
  const dayTrips = parseInt(document.getElementById('trips_day').value) || 0;
  const nightTrips = parseInt(document.getElementById('trips_night').value) || 0;

  // Product-wise
  const p10 = parseFloat(document.getElementById('p_10mm').value) || 0;
  const p20 = parseFloat(document.getElementById('p_20mm').value) || 0;
  const pvs = parseFloat(document.getElementById('p_vsand').value) || 0;
  const priv = parseFloat(document.getElementById('p_rivosand').value) || 0;
  const pbal = parseFloat(document.getElementById('p_ballast').value) || 0;
  const p40 = parseFloat(document.getElementById('p_40mm').value) || 0;
  const psl = parseFloat(document.getElementById('p_slurry').value) || 0;

  const totalProd = p10 + p20 + pvs + priv + pbal + p40 + psl;

  // Update report
  document.getElementById('r_mine').innerText = mine.toLocaleString();
  document.getElementById('r_plant').innerText = plant.toLocaleString();
  document.getElementById('t_day').innerText = dayTrips;
  document.getElementById('t_night').innerText = nightTrips;
  document.getElementById('t_total').innerText = dayTrips + nightTrips;

  document.getElementById('p10').innerText = p10.toFixed(1);
  document.getElementById('p20').innerText = p20.toFixed(1);
  document.getElementById('pvs').innerText = pvs.toFixed(1);
  document.getElementById('priv').innerText = priv.toFixed(1);
  document.getElementById('pbal').innerText = pbal.toFixed(1);
  document.getElementById('p40').innerText = p40.toFixed(1);
  document.getElementById('psl').innerText = psl.toFixed(1);
  document.getElementById('prod_total').innerText = totalProd.toFixed(1);

  // Tonnage estimate (approx 25.3 tons per trip average)
  const avgLoad = 25.3;
  document.getElementById('ton_day').innerText = Math.round(dayTrips * avgLoad);
  document.getElementById('ton_night').innerText = Math.round(nightTrips * avgLoad);
  document.getElementById('ton_ftd').innerText = Math.round((dayTrips + nightTrips) * avgLoad);

  // Date
  const today = new Date().toLocaleDateString('en-GB', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
  document.getElementById('today').innerText = today;
}

// Auto update while typing
document.querySelectorAll('input').forEach(i => i.addEventListener('input', generateReport));

// Initial load
generateReport();
</script>

</body>
</html>
